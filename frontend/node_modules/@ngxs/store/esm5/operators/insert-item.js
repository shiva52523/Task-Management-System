/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { isNil } from './utils';
/**
 * @template T
 * @param {?} value - Value to insert
 * @param {?=} beforePosition
 * @return {?}
 */
export function insertItem(value, beforePosition) {
    return (/**
     * @param {?} existing
     * @return {?}
     */
    function insertItemOperator(existing) {
        // Have to check explicitly for `null` and `undefined`
        // because `value` can be `0`, thus `!value` will return `true`
        if (isNil(value) && existing) {
            return existing;
        }
        // Property may be dynamic and might not existed before
        if (!Array.isArray(existing)) {
            return [value];
        }
        /** @type {?} */
        var clone = tslib_1.__spread(existing);
        /** @type {?} */
        var index = 0;
        // No need to call `isNumber`
        // as we are checking `> 0` not `>= 0`
        // everything except number will return false here
        if ((/** @type {?} */ (beforePosition)) > 0) {
            index = (/** @type {?} */ (beforePosition));
        }
        clone.splice(index, 0, value);
        return clone;
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zZXJ0LWl0ZW0uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Abmd4cy9zdG9yZS9vcGVyYXRvcnMvIiwic291cmNlcyI6WyJpbnNlcnQtaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxTQUFTLENBQUM7Ozs7Ozs7QUFNaEMsTUFBTSxVQUFVLFVBQVUsQ0FBSSxLQUFRLEVBQUUsY0FBdUI7SUFDN0Q7Ozs7SUFBTyxTQUFTLGtCQUFrQixDQUFDLFFBQXVCO1FBQ3hELHNEQUFzRDtRQUN0RCwrREFBK0Q7UUFDL0QsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksUUFBUSxFQUFFO1lBQzVCLE9BQU8sUUFBUSxDQUFDO1NBQ2pCO1FBRUQsdURBQXVEO1FBQ3ZELElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzVCLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNoQjs7WUFFSyxLQUFLLG9CQUFPLFFBQVEsQ0FBQzs7WUFFdkIsS0FBSyxHQUFHLENBQUM7UUFFYiw2QkFBNkI7UUFDN0Isc0NBQXNDO1FBQ3RDLGtEQUFrRDtRQUNsRCxJQUFJLG1CQUFBLGNBQWMsRUFBQyxHQUFHLENBQUMsRUFBRTtZQUN2QixLQUFLLEdBQUcsbUJBQUEsY0FBYyxFQUFDLENBQUM7U0FDekI7UUFFRCxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDOUIsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDLEVBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOaWwgfSBmcm9tICcuL3V0aWxzJztcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBpbnNlcnRcclxuICogQHBhcmFtIFtiZWZvcmVQb3NpdGlvbl0gLSAgU3BlY2lmaWVkIGluZGV4IHRvIGluc2VydCB2YWx1ZSBiZWZvcmUsIG9wdGlvbmFsXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0SXRlbTxUPih2YWx1ZTogVCwgYmVmb3JlUG9zaXRpb24/OiBudW1iZXIpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gaW5zZXJ0SXRlbU9wZXJhdG9yKGV4aXN0aW5nOiBSZWFkb25seTxUW10+KTogVFtdIHtcclxuICAgIC8vIEhhdmUgdG8gY2hlY2sgZXhwbGljaXRseSBmb3IgYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxyXG4gICAgLy8gYmVjYXVzZSBgdmFsdWVgIGNhbiBiZSBgMGAsIHRodXMgYCF2YWx1ZWAgd2lsbCByZXR1cm4gYHRydWVgXHJcbiAgICBpZiAoaXNOaWwodmFsdWUpICYmIGV4aXN0aW5nKSB7XHJcbiAgICAgIHJldHVybiBleGlzdGluZztcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9wZXJ0eSBtYXkgYmUgZHluYW1pYyBhbmQgbWlnaHQgbm90IGV4aXN0ZWQgYmVmb3JlXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhpc3RpbmcpKSB7XHJcbiAgICAgIHJldHVybiBbdmFsdWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNsb25lID0gWy4uLmV4aXN0aW5nXTtcclxuXHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgIC8vIE5vIG5lZWQgdG8gY2FsbCBgaXNOdW1iZXJgXHJcbiAgICAvLyBhcyB3ZSBhcmUgY2hlY2tpbmcgYD4gMGAgbm90IGA+PSAwYFxyXG4gICAgLy8gZXZlcnl0aGluZyBleGNlcHQgbnVtYmVyIHdpbGwgcmV0dXJuIGZhbHNlIGhlcmVcclxuICAgIGlmIChiZWZvcmVQb3NpdGlvbiEgPiAwKSB7XHJcbiAgICAgIGluZGV4ID0gYmVmb3JlUG9zaXRpb24hO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb25lLnNwbGljZShpbmRleCwgMCwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIGNsb25lO1xyXG4gIH07XHJcbn1cclxuIl19