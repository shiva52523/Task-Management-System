/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { isNil } from './utils';
/**
 * @template T
 * @param {?} value - Value to insert
 * @param {?=} beforePosition
 * @return {?}
 */
export function insertItem(value, beforePosition) {
    return (/**
     * @param {?} existing
     * @return {?}
     */
    function insertItemOperator(existing) {
        // Have to check explicitly for `null` and `undefined`
        // because `value` can be `0`, thus `!value` will return `true`
        if (isNil(value) && existing) {
            return existing;
        }
        // Property may be dynamic and might not existed before
        if (!Array.isArray(existing)) {
            return [value];
        }
        /** @type {?} */
        const clone = [...existing];
        /** @type {?} */
        let index = 0;
        // No need to call `isNumber`
        // as we are checking `> 0` not `>= 0`
        // everything except number will return false here
        if ((/** @type {?} */ (beforePosition)) > 0) {
            index = (/** @type {?} */ (beforePosition));
        }
        clone.splice(index, 0, value);
        return clone;
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zZXJ0LWl0ZW0uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Abmd4cy9zdG9yZS9vcGVyYXRvcnMvIiwic291cmNlcyI6WyJpbnNlcnQtaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQzs7Ozs7OztBQU1oQyxNQUFNLFVBQVUsVUFBVSxDQUFJLEtBQVEsRUFBRSxjQUF1QjtJQUM3RDs7OztJQUFPLFNBQVMsa0JBQWtCLENBQUMsUUFBdUI7UUFDeEQsc0RBQXNEO1FBQ3RELCtEQUErRDtRQUMvRCxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxRQUFRLEVBQUU7WUFDNUIsT0FBTyxRQUFRLENBQUM7U0FDakI7UUFFRCx1REFBdUQ7UUFDdkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDNUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2hCOztjQUVLLEtBQUssR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDOztZQUV2QixLQUFLLEdBQUcsQ0FBQztRQUViLDZCQUE2QjtRQUM3QixzQ0FBc0M7UUFDdEMsa0RBQWtEO1FBQ2xELElBQUksbUJBQUEsY0FBYyxFQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3ZCLEtBQUssR0FBRyxtQkFBQSxjQUFjLEVBQUMsQ0FBQztTQUN6QjtRQUVELEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM5QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsRUFBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB2YWx1ZSAtIFZhbHVlIHRvIGluc2VydFxyXG4gKiBAcGFyYW0gW2JlZm9yZVBvc2l0aW9uXSAtICBTcGVjaWZpZWQgaW5kZXggdG8gaW5zZXJ0IHZhbHVlIGJlZm9yZSwgb3B0aW9uYWxcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRJdGVtPFQ+KHZhbHVlOiBULCBiZWZvcmVQb3NpdGlvbj86IG51bWJlcikge1xyXG4gIHJldHVybiBmdW5jdGlvbiBpbnNlcnRJdGVtT3BlcmF0b3IoZXhpc3Rpbmc6IFJlYWRvbmx5PFRbXT4pOiBUW10ge1xyXG4gICAgLy8gSGF2ZSB0byBjaGVjayBleHBsaWNpdGx5IGZvciBgbnVsbGAgYW5kIGB1bmRlZmluZWRgXHJcbiAgICAvLyBiZWNhdXNlIGB2YWx1ZWAgY2FuIGJlIGAwYCwgdGh1cyBgIXZhbHVlYCB3aWxsIHJldHVybiBgdHJ1ZWBcclxuICAgIGlmIChpc05pbCh2YWx1ZSkgJiYgZXhpc3RpbmcpIHtcclxuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb3BlcnR5IG1heSBiZSBkeW5hbWljIGFuZCBtaWdodCBub3QgZXhpc3RlZCBiZWZvcmVcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShleGlzdGluZykpIHtcclxuICAgICAgcmV0dXJuIFt2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2xvbmUgPSBbLi4uZXhpc3RpbmddO1xyXG5cclxuICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjYWxsIGBpc051bWJlcmBcclxuICAgIC8vIGFzIHdlIGFyZSBjaGVja2luZyBgPiAwYCBub3QgYD49IDBgXHJcbiAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBudW1iZXIgd2lsbCByZXR1cm4gZmFsc2UgaGVyZVxyXG4gICAgaWYgKGJlZm9yZVBvc2l0aW9uISA+IDApIHtcclxuICAgICAgaW5kZXggPSBiZWZvcmVQb3NpdGlvbiE7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvbmUuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbiAgfTtcclxufVxyXG4iXX0=