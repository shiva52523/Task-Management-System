!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@ngxs/store/internals"),require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("@ngxs/store",["exports","@angular/common","@ngxs/store/internals","rxjs","rxjs/operators","@angular/core"],e):e((t.ngxs=t.ngxs||{},t.ngxs.store={}),t.ng.common,t.ngxs.store.internals,t.rxjs,t.rxjs.operators,t.ng.core)}(this,function(t,e,n,_,O,o){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function x(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var c=function(){function t(t,e){this._ngZone=t,this._platformId=e,this.verifyZoneIsNotNooped(this._ngZone)}return t.prototype.enter=function(t){return e.isPlatformServer(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)},t.prototype.leave=function(t){return this.runInsideAngular(t)},t.prototype.runInsideAngular=function(t){return o.NgZone.isInAngularZone()?t():this._ngZone.run(t)},t.prototype.runOutsideAngular=function(t){return o.NgZone.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()},t.prototype.verifyZoneIsNotNooped=function(t){},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.NgZone},{type:Object,decorators:[{type:o.Inject,args:[o.PLATFORM_ID]}]}]},t}(),p=new o.InjectionToken("ROOT_STATE_TOKEN"),f=new o.InjectionToken("FEATURE_STATE_TOKEN"),E="NGXS_META",l="NGXS_OPTIONS_META",h="NGXS_SELECTOR_META",y=new o.InjectionToken("NGXS_PLUGINS"),d=function(){function t(){this.defaultsState={},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=c}return t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[]},t}(),g=new o.InjectionToken("NGXS_EXECUTION_STRATEGY");function v(t){if(!t.hasOwnProperty(E)){Object.defineProperty(t,E,{value:{name:null,actions:{},defaults:{},path:null,selectFromAppState:null,children:[],instance:null}})}return S(t)}function S(t){return t[E]}function m(t){if(!t.hasOwnProperty(h)){Object.defineProperty(t,h,{value:{selectFromAppState:null,originalFn:null,containerClass:null,selectorName:null}})}return b(t)}function b(t){return t[h]}function A(t,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function n(t){var e=u(t);return function(t){return e.reduce(function(t,e){return t&&t[e]},t)}}(t):function a(t){for(var e=t,n="store."+e[0],r=0,o=e.length,i=n;++r<o;)i=i+" && "+(n=n+"."+e[r]);return new Function("store","return "+i+";")}(t)}var j=36;function N(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}var w=function(t,e,r){t=s({},t);var n=e.split("."),o=n.length-1;return n.reduce(function(t,e,n){return t[e]=n===o?r:Array.isArray(t[e])?u(t[e]):s({},t[e]),t&&t[e]},t),t},I=function(t,e){return e.split(".").reduce(function(t,e){return t&&t[e]},t)};function P(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C(t,["DISPATCHED"])}function C(t,e,n){void 0===n&&(n=T);var r=function i(t){return t.reduce(function(t,e){return t[N(e)]=!0,t},{})}(t),o=e&&function a(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}(e);return function(t){return t.pipe(function e(o,i){return O.filter(function(t){var e=N(t.action),n=o[e],r=!i||i[t.status];return n&&r})}(r,o),n())}}function R(){return O.map(function(t){var e=t.action,n=t.status;return{action:e,result:{successful:"SUCCESSFUL"===n,canceled:"CANCELED"===n,error:t.error}}})}function T(){return O.map(function(t){return t.action})}var M=function(){function t(t){this._executionStrategy=t}return t.prototype.enter=function(t){return this._executionStrategy.enter(t)},t.prototype.leave=function(t){return this._executionStrategy.leave(t)},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[g]}]}]},t}();function k(n){return function(t){return new _.Observable(function(e){return t.subscribe({next:function(t){n.leave(function(){return e.next(t)})},error:function(t){n.leave(function(){return e.error(t)})},complete:function(){n.leave(function(){return e.complete()})}})})}}var F=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t._itemQueue=[],t._busyPushingNext=!1,t}return i(t,n),t.prototype.next=function(t){if(this._busyPushingNext)this._itemQueue.unshift(t);else{for(this._busyPushingNext=!0,n.prototype.next.call(this,t);0<this._itemQueue.length;){var e=this._itemQueue.pop();n.prototype.next.call(this,e)}this._busyPushingNext=!1}},t}(_.Subject),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.decorators=[{type:o.Injectable}],e}(F),B=function(e){function t(t,n){return e.call(this,function(e){t.pipe(k(n)).subscribe(function(t){return e.next(t)},function(t){return e.error(t)},function(){return e.complete()})})||this}return i(t,e),t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:D},{type:M}]},t}(_.Observable),U=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.shift().apply(void 0,u(t,[function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return U(n).apply(void 0,u(t))}]))}},L=function(t){function e(){return t.call(this,{})||this}return i(e,t),e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(_.BehaviorSubject),V=function(){function t(t,e){this._parentManager=t,this._plugins=e,this.plugins=[],this.register()}return t.prototype.register=function(){var t;this._plugins&&(this.plugins=this._plugins.map(function(t){return t.handle?t.handle.bind(t):t}),this._parentManager&&(t=this._parentManager.plugins).push.apply(t,u(this.plugins)))},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:t,decorators:[{type:o.Optional},{type:o.SkipSelf}]},{type:Array,decorators:[{type:o.Inject,args:[y]},{type:o.Optional}]}]},t}(),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.decorators=[{type:o.Injectable}],e}(_.Subject),Z=function(){function t(t,e,n,r,o,i){this._errorHandler=t,this._actions=e,this._actionResults=n,this._pluginManager=r,this._stateStream=o,this._ngxsExecutionStrategy=i}return t.prototype.dispatch=function(t){var e=this,n=this._ngxsExecutionStrategy.enter(function(){return e.dispatchByEvents(t)});return n.subscribe({error:function(t){return e._ngxsExecutionStrategy.leave(function(){return e._errorHandler.handleError(t)})}}),n.pipe(k(this._ngxsExecutionStrategy))},t.prototype.dispatchByEvents=function(t){var e=this;return Array.isArray(t)?_.forkJoin(t.map(function(t){return e.dispatchSingle(t)})):this.dispatchSingle(t)},t.prototype.dispatchSingle=function(t){var r=this,o=this._stateStream.getValue(),e=this._pluginManager.plugins;return U(u(e,[function(t,e){t!==o&&r._stateStream.next(t);var n=r.getActionResultStream(e);return n.subscribe(function(t){return r._actions.next(t)}),r._actions.next({action:e,status:"DISPATCHED"}),r.createDispatchObservable(n)}]))(o,t).pipe(O.shareReplay())},t.prototype.getActionResultStream=function(e){return this._actionResults.pipe(O.filter(function(t){return t.action===e&&"DISPATCHED"!==t.status}),O.take(1),O.shareReplay())},t.prototype.createDispatchObservable=function(t){var e=this;return t.pipe(O.exhaustMap(function(t){switch(t.status){case"SUCCESSFUL":return _.of(e._stateStream.getValue());case"ERRORED":return _.throwError(t.error);default:return _.empty()}})).pipe(O.shareReplay())},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.ErrorHandler},{type:D},{type:H},{type:V},{type:L},{type:M}]},t}();function G(t,e){return t===e}function q(t,e){void 0===e&&(e=G);var n=null,r=null;function o(){return function i(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}return o.reset=function(){r=n=null},o}var X=q(function ht(){var t=o.getPlatform();if(!t)return!1;var e=t.injector.get(o.COMPILER_OPTIONS,null);return!!e&&e.some(function(t){return(t&&t.providers||[]).some(function(t){return t&&t.provide&&"MockNgModuleResolver"===t.provide.name||!1})})}),W=function(){function t(t){this._config=t}return t.prototype.verifyDevMode=function(){if(!X()){var t=this._config.developmentMode,e=o.isDevMode(),n=e&&!t,r="NgxsModule.forRoot(states, { developmentMode: !environment.production })";!e&&t?console.warn("Angular is running in production mode but NGXS is still running in the development mode!\n","Please set developmentMode to false on the NgxsModule options when in production mode.\n",r):n&&console.warn("RECOMMENDATION: Set developmentMode to true on the NgxsModule when Angular is running in development mode.\n",r)}},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:d}]},t}(),Q=function(e){Object.freeze(e);var n="function"==typeof e,r=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(e).forEach(function(t){!r.call(e,t)||n&&("caller"===t||"callee"===t||"arguments"===t)||null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||Object.isFrozen(e[t])||Q(e[t])}),e},z=function(){function t(t,e,n,r){this._stateStream=t,this._dispatcher=e,this._config=n,r.verifyDevMode()}return t.prototype.getRootStateOperations=function(){var e=this,t={getState:function(){return e._stateStream.getValue()},setState:function(t){return e._stateStream.next(t)},dispatch:function(t){return e._dispatcher.dispatch(t)}};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(t):t},t.prototype.ensureStateAndActionsAreImmutable=function(n){return{getState:function(){return n.getState()},setState:function(t){var e=Q(t);return n.setState(e)},dispatch:function(t){return n.dispatch(t)}}},t.prototype.setStateToTheCurrentWithNew=function(t){var e=this.getRootStateOperations(),n=e.getState();e.setState(s({},n,t.defaults))},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:L},{type:Z},{type:d},{type:W}]},t}();var Y=function(){function t(t){this._internalStateOperations=t}return t.prototype.createStateContext=function(r){var o=this._internalStateOperations.getRootStateOperations();function n(t){return I(t,r.depth)}function i(t,e){var n=w(t,r.depth,e);return o.setState(n),n}function a(t,e){return i(t,e(n(t)))}return{getState:function(){return n(o.getState())},patchState:function(t){return a(o.getState(),function e(i){return function(t){var e=Array.isArray(i),n="object"!=typeof i;if(e)throw new Error("Patching arrays is not supported.");if(n)throw new Error("Patching primitives is not supported.");var r=s({},t);for(var o in i)r[o]=i[o];return r}}(t))},setState:function(t){var e=o.getState();return function n(t){return"function"==typeof t}(t)?a(e,t):i(e,t)},dispatch:function(t){return o.dispatch(t)}}},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:z}]},t}(),J=function(){function t(){}return t.stateNameErrorMessage=function(t){return t+" is not a valid state name. It needs to be a valid object property name."},t.checkCorrectStateName=function(t){if(!t)throw new Error("States must register a 'name' property");if(!this.stateNameRegex.test(t))throw new Error(this.stateNameErrorMessage(t))},t.checkStateNameIsUnique=function(t,e){var n=this.getValidStateMeta(t).name,r=e[n];if(r&&r!==t)throw new Error("State name '"+n+"' from "+t.name+" already exists in "+r.name);return n},t.getValidStateMeta=function(t){var e=S(t);if(!e)throw new Error("States must be decorated with @State() decorator");return e},t.stateNameRegex=new RegExp("^[a-zA-Z0-9_]+$"),t}(),K=function(){function b(t,e,n,r,o,i,a){this._injector=t,this._config=e,this._parentFactory=n,this._actions=r,this._actionResults=o,this._stateContextFactory=i,this._internalStateOperations=a,this._connected=!1,this._states=[],this._statesByName={}}return Object.defineProperty(b.prototype,"states",{get:function(){return this._parentFactory?this._parentFactory.states:this._states},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"statesByName",{get:function(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"stateTreeRef",{get:function(){return this._internalStateOperations.getRootStateOperations().getState()},enumerable:!0,configurable:!0}),b.cloneDefaults=function(t){return Array.isArray(t)?u(t):function e(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t)?s({},t):t===undefined?{}:t},b.checkStatesAreValid=function(t){t.forEach(J.getValidStateMeta)},b.prototype.add=function(t){var e,n;b.checkStatesAreValid(t);var r=this.addToStatesMap(t).newStates;if(!r.length)return[];var o=function g(n){var i=function(e){var t=n.find(function(t){return t===e});if(!t)throw new Error("Child state not found: "+e+". \r\nYou may have forgotten to add states to module");return t[E].name};return n.reduce(function(t,e){var n=e[E],r=n.name,o=n.children;return t[r]=(o||[]).map(i),t},{})}(r),i=function v(t){var r=[],o={},i=function(e,n){void 0===n&&(n=[]),Array.isArray(n)||(n=[]),n.push(e),o[e]=!0,t[e].forEach(function(t){if(0<=n.indexOf(t))throw new Error("Circular dependency '"+t+"' is required by '"+e+"': "+n.join(" -> "));o[t]||i(t,n.slice(0))}),r.indexOf(e)<0&&r.push(e)};return Object.keys(t).forEach(function(t){return i(t)}),r.reverse()}(o),a=function S(t,e){void 0===e&&(e={});var o=function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&0<=t[n].indexOf(e)){var r=o(t,n);return null!==r?r+"."+n:n}return null};for(var n in t)if(t.hasOwnProperty(n)){var r=o(t,n);e[n]=r?r+"."+n:n}return e}(o),u=function m(t){return t.reduce(function(t,e){return t[e[E].name]=e,t},{})}(r),c=[];try{for(var s=x(i),p=s.next();!p.done;p=s.next()){var f=p.value,l=u[f],h=a[f],y=l[E];this.addRuntimeInfoToMeta(y,h);var d={name:f,depth:h,actions:y.actions,instance:this._injector.get(l),defaults:b.cloneDefaults(y.defaults)};this.hasBeenMountedAndBootstrapped(f,h)||c.push(d),this.states.push(d)}}catch(_){e={error:_}}finally{try{p&&!p.done&&(n=s["return"])&&n.call(s)}finally{if(e)throw e.error}}return c},b.prototype.addAndReturnDefaults=function(t){var e=t||[],n=this.add(e);return{defaults:n.reduce(function(t,e){return w(t,e.depth,e.defaults)},{}),states:n}},b.prototype.connectActionHandlers=function(){var n=this;this._connected||(this._actions.pipe(O.filter(function(t){return"DISPATCHED"===t.status}),O.mergeMap(function(t){var e=t.action;return n.invokeActions(n._actions,e).pipe(O.map(function(){return{action:e,status:"SUCCESSFUL"}}),O.defaultIfEmpty({action:e,status:"CANCELED"}),O.catchError(function(t){return _.of({action:e,status:"ERRORED",error:t})}))})).subscribe(function(t){return n._actionResults.next(t)}),this._connected=!0)},b.prototype.invokeActions=function(t,e){var n,r,o,i,a=[];try{for(var u=x(this.states),c=u.next();!c.done;c=u.next()){var s=c.value,p=N(e),f=s.actions[p];if(f)try{for(var l=x(f),h=l.next();!h.done;h=l.next()){var y=h.value,d=this._stateContextFactory.createStateContext(s);try{var g=s.instance[y.fn](d,e);g instanceof Promise&&(g=_.from(g)),g=g instanceof _.Observable?g.pipe(y.options.cancelUncompleted?O.takeUntil(t.pipe(P(e))):O.map(function(t){return t})):_.of({}).pipe(O.shareReplay()),a.push(g)}catch(v){a.push(_.throwError(v))}}}catch(S){o={error:S}}finally{try{h&&!h.done&&(i=l["return"])&&i.call(l)}finally{if(o)throw o.error}}}}catch(m){n={error:m}}finally{try{c&&!c.done&&(r=u["return"])&&r.call(u)}finally{if(n)throw n.error}}return a.length||a.push(_.of({})),_.forkJoin(a)},b.prototype.addToStatesMap=function(t){var e,n,r=[],o=this.statesByName;try{for(var i=x(t),a=i.next();!a.done;a=i.next()){var u=a.value,c=J.checkStateNameIsUnique(u,o);!o[c]&&(r.push(u),o[c]=u)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=i["return"])&&n.call(i)}finally{if(e)throw e.error}}return{newStates:r}},b.prototype.addRuntimeInfoToMeta=function(t,e){t.path=e,t.selectFromAppState=A(e.split("."),this._config)},b.prototype.hasBeenMountedAndBootstrapped=function(t,e){var n=I(this.stateTreeRef,e)!==undefined;return this.statesByName[t]&&n},b.decorators=[{type:o.Injectable}],b.ctorParameters=function(){return[{type:o.Injector},{type:d},{type:b,decorators:[{type:o.Optional},{type:o.SkipSelf}]},{type:D},{type:H},{type:Y},{type:z}]},b}(),$=function(){function t(t,e,n){this.internalStateOperations=t,this.stateContextFactory=e,this.bootstrapper=n}return t.prototype.ngxsBootstrap=function(t,e){var n=this;this.internalStateOperations.getRootStateOperations().dispatch(t).pipe(O.filter(function(){return!!e}),O.tap(function(){return n.invokeInit(e.states)}),O.mergeMap(function(){return n.bootstrapper.appBootstrapped$}),O.filter(function(t){return!!t})).subscribe(function(){n.invokeBootstrap(e.states)})},t.prototype.invokeInit=function(t){this.invokeLifecycleHooks(t,"ngxsOnInit")},t.prototype.invokeBootstrap=function(t){this.invokeLifecycleHooks(t,"ngxsAfterBootstrap")},t.prototype.invokeLifecycleHooks=function(t,e){var n,r;try{for(var o=x(t),i=o.next();!i.done;i=o.next()){var a=i.value,u=a.instance;if(u[e]){var c=this.stateContextFactory.createStateContext(a);u[e](c)}}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o["return"])&&r.call(o)}finally{if(n)throw n.error}}},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:z},{type:Y},{type:n.NgxsBootstrapper}]},t}();function tt(o,r,t){var i=q(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.apply(void 0,u(t));return n instanceof Function?q.apply(null,[n]):n}),a=t&&t.containerClass,e=m(i);return e.originalFn=r,e.selectFromAppState=function(e){var t=[],n=[];a&&S(a)&&n.push(a);o&&n.push.apply(n,u(o)),t.push.apply(t,u(n.map(function(t){return et(t)(e)})));try{return i.apply(void 0,u(t))}catch(r){if(r instanceof TypeError)return undefined;throw r}},t&&(e.containerClass=t.containerClass,e.selectorName=t.selectorName),i}function et(t){var e=b(t)||S(t);return e&&e.selectFromAppState||t}var nt=function(){function t(t,e,n,r){this._stateStream=t,this._internalStateOperations=e,this._config=n,this._internalExecutionStrategy=r,this._stateStream.next(this._config.defaultsState)}return t.prototype.dispatch=function(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)},t.prototype.select=function(t){var e=et(t);return this._stateStream.pipe(O.map(e),O.catchError(function(t){if(t instanceof TypeError)return _.of(undefined);throw t}),O.distinctUntilChanged(),k(this._internalExecutionStrategy))},t.prototype.selectOnce=function(t){return this.select(t).pipe(O.take(1))},t.prototype.selectSnapshot=function(t){return et(t)(this._stateStream.getValue())},t.prototype.subscribe=function(t){return this._stateStream.pipe(k(this._internalExecutionStrategy)).subscribe(t)},t.prototype.snapshot=function(){return this._internalStateOperations.getRootStateOperations().getState()},t.prototype.reset=function(t){return this._internalStateOperations.getRootStateOperations().setState(t)},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:L},{type:z},{type:d},{type:M}]},t}(),rt=function(){function n(t,e){n.store=t,n.config=e}return n.store=undefined,n.config=undefined,n.decorators=[{type:o.Injectable}],n.ctorParameters=function(){return[{type:nt},{type:d}]},n}();var ot=function(){function t(){}return Object.defineProperty(t,"type",{get:function(){return"@@INIT"},enumerable:!0,configurable:!0}),t}(),it=function(){function t(){}return Object.defineProperty(t,"type",{get:function(){return"@@UPDATE_STATE"},enumerable:!0,configurable:!0}),t}(),at=function(){function t(t,e,n,r,o,i){void 0===o&&(o=[]);var a=t.addAndReturnDefaults(o);e.setStateToTheCurrentWithNew(a),t.connectActionHandlers(),i.ngxsBootstrap(new ot,a)}return t.decorators=[{type:o.NgModule}],t.ctorParameters=function(){return[{type:K},{type:z},{type:nt},{type:rt},{type:Array,decorators:[{type:o.Optional},{type:o.Inject,args:[p]}]},{type:$}]},t}(),ut=function(){function t(t,e,n,r,o){var i=[].concat.apply([],u(r)),a=n.addAndReturnDefaults(i);a.states.length&&(e.setStateToTheCurrentWithNew(a),o.ngxsBootstrap(new it,a))}return t.decorators=[{type:o.NgModule,args:[{}]}],t.ctorParameters=function(){return[{type:nt},{type:z},{type:K},{type:Array,decorators:[{type:o.Optional},{type:o.Inject,args:[f]}]},{type:$}]},t}();function ct(t){return Object.assign(new d,t)}function st(t){return function(){return t.bootstrap()}}var pt=new o.InjectionToken("ROOT_OPTIONS"),ft=function(){function t(){}return t.forRoot=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),{ngModule:at,providers:u([K,Y,B,D,n.NgxsBootstrapper,W,$,Z,H,z,M,nt,L,rt,V],t,[{provide:g,useClass:e.executionStrategy||c},{provide:p,useValue:t},{provide:pt,useValue:e},{provide:d,useFactory:ct,deps:[pt]},{provide:o.APP_BOOTSTRAP_LISTENER,useFactory:st,multi:!0,deps:[n.NgxsBootstrapper]}])}},t.forFeature=function(t){return void 0===t&&(t=[]),{ngModule:ut,providers:u([K,V],t,[{provide:f,multi:!0,useValue:t}])}},t.decorators=[{type:o.NgModule,args:[{}]}],t}();var lt=function(){function t(){}return t.prototype.enter=function(t){return t()},t.prototype.leave=function(t){return t()},t.decorators=[{type:o.Injectable}],t}();t.NgxsModule=ft,t.Action=function yt(p,f){return function(t,e,n){var r,o,i=v(t.constructor);Array.isArray(p)||(p=[p]);try{for(var a=x(p),u=a.next();!u.done;u=a.next()){var c=u.value.type;i.actions[c]||(i.actions[c]=[]),i.actions[c].push({fn:e,options:f||{},type:c})}}catch(s){r={error:s}}finally{try{u&&!u.done&&(o=a["return"])&&o.call(a)}finally{if(r)throw r.error}}}},t.Store=nt,t.State=function dt(i){return function(t){var e=v(t),n=Object.getPrototypeOf(t),r=function o(t){var e=t[l]||{};return s({},e,i)}(n);!function c(t){var e=t.meta,n=t.inheritedStateClass,r=t.optionsWithInheritance,o=r.children,i=r.defaults,a=r.name;if(J.checkCorrectStateName(a),n.hasOwnProperty(E)){var u=n[E]||{};e.actions=s({},e.actions,u.actions)}e.children=o,e.defaults=i,e.name=a}({meta:e,inheritedStateClass:n,optionsWithInheritance:r}),t[l]=r}},t.Select=function gt(o){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(t,e){var n="__"+e+"__selector";if(o||(o=function r(t){var e=t.length-1;return t.charCodeAt(e)===j?t.slice(0,e):t}(e)),t[n])throw new Error("You cannot use @Select decorator and a "+n+" property.");delete t[e]&&(Object.defineProperty(t,n,{writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,e,{get:function(){return this[n]||(this[n]=function(t){var e=rt.store;if(!e)throw new Error("SelectFactory not connected to store!");return e.select(t)}.apply(this,[(t=rt.config,"string"!=typeof o?o[E]&&o[E].path?A(o[E].path.split("."),t):o:A(i.length?u([o],i):o.split("."),t))]));var t},enumerable:!0,configurable:!0}))}},t.Actions=B,t.getSelectorMetadata=b,t.getStoreMetadata=S,t.ensureStoreMetadata=v,t.ensureSelectorMetadata=m,t.ofAction=function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C(t)},t.ofActionDispatched=P,t.ofActionSuccessful=function St(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C(t,["SUCCESSFUL"])},t.ofActionCanceled=function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C(t,["CANCELED"])},t.ofActionErrored=function _t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C(t,["ERRORED"])},t.ofActionCompleted=function bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C(t,["SUCCESSFUL","CANCELED","ERRORED"],R)},t.Selector=function Ot(i){return function(t,e,n){if(null===n.value)throw new Error("Selectors only work on methods");var r=n.value,o=tt(i,r.bind(t),{containerClass:t,selectorName:e});return{configurable:!0,get:function(){return o}}}},t.getActionTypeFromInstance=N,t.actionMatcher=function xt(t){var e=N(t);return function(t){return e===N(t)}},t.createSelector=tt,t.NoopNgxsExecutionStrategy=lt,t.NGXS_PLUGINS=y,t.StateStream=L,t.setValue=w,t.getValue=I,t.InitState=ot,t.UpdateState=it,t.ɵh=D,t.ɵg=F,t.ɵf=rt,t.ɵx=c,t.ɵu=M,t.ɵn=g,t.ɵv=W,t.ɵp=H,t.ɵq=Z,t.ɵw=$,t.ɵr=Y,t.ɵo=K,t.ɵs=z,t.ɵb=ut,t.ɵa=at,t.ɵe=pt,t.ɵd=st,t.ɵc=ct,t.ɵt=V,t.ɵk=f,t.ɵm=d,t.ɵj=p,t.ɵl=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngxs-store.umd.min.js.map