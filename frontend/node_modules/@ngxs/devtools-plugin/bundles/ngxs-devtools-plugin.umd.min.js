!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ngxs/store"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngxs/devtools-plugin",["exports","@angular/core","@ngxs/store","rxjs/operators"],t):t((e.ngxs=e.ngxs||{},e.ngxs["devtools-plugin"]={}),e.ng.core,e["ngxs-store"],e.rxjs.operators)}(this,function(e,o,p,r){"use strict";var i=function(){return(i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var s in t=arguments[o])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},n=new o.InjectionToken("NGXS_DEVTOOLS_OPTIONS"),s=function(){function e(e,t){var o=this;this._options=e,this._injector=t,this.devtoolsExtension=null,this.windowObj="undefined"!=typeof window?window:{};var n=this.windowObj.__REDUX_DEVTOOLS_EXTENSION__||this.windowObj.devToolsExtension;n&&(this.devtoolsExtension=n.connect(e),this.devtoolsExtension.subscribe(function(e){return o.dispatched(e)}))}return e.prototype.handle=function(o,n,e){var s=this,t=this._options&&this._options.disabled;return!this.devtoolsExtension||t?e(o,n):e(o,n).pipe(r.tap(function(e){if("@@INIT"===p.getActionTypeFromInstance(n))s.devtoolsExtension.init(o);else{var t=p.getActionTypeFromInstance(n);s.devtoolsExtension.send(i({},n,{type:t}),e)}}))},e.prototype.dispatched=function(e){var t=this,o=this._injector.get(p.Store);if("DISPATCH"===e.type){if("JUMP_TO_ACTION"===e.payload.type||"JUMP_TO_STATE"===e.payload.type){var n=JSON.parse(e.state);o.reset(n)}else if("TOGGLE_ACTION"===e.payload.type)console.warn("Skip is not supported at this time.");else if("IMPORT_STATE"===e.payload.type){var s=e.payload.nextLiftedState,r=s.actionsById,i=s.computedStates,a=s.currentStateIndex;this.devtoolsExtension.init(i[0].state),Object.keys(r).filter(function(e){return"0"!==e}).forEach(function(e){return t.devtoolsExtension.send(r[e],i[e].state)}),o.reset(i[a].state)}}else if("ACTION"===e.type){var d=JSON.parse(e.payload);o.dispatch(d)}},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[n]}]},{type:o.Injector}]},e}();function a(e){return i({name:"NGXS"},e)}var d=new o.InjectionToken("USER_OPTIONS"),t=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:p.NGXS_PLUGINS,useClass:s,multi:!0},{provide:d,useValue:e},{provide:n,useFactory:a,deps:[d]}]}},t.decorators=[{type:o.NgModule,args:[{imports:[p.NgxsModule]}]}],t}();e.NgxsReduxDevtoolsPluginModule=t,e.NgxsReduxDevtoolsPlugin=s,e.NGXS_DEVTOOLS_OPTIONS=n,e.ɵb=d,e.ɵa=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngxs-devtools-plugin.umd.min.js.map