"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@angular-devkit/core");
const parser_1 = require("./parser");
const strings = require("@angular-devkit/core/src/utils/strings");
function transform(options) {
    const target = Object.assign({}, options);
    const defaultSourceRoot = options.sourceRoot !== undefined ? options.sourceRoot : 'src';
    setOptionsValue(target, defaultSourceRoot);
    return target;
}
exports.transform = transform;
function setOptionsValue(target, defaultSourceRoot) {
    target.path =
        target.path !== undefined ? core_1.join(core_1.normalize(defaultSourceRoot), target.path) : core_1.normalize(defaultSourceRoot);
    if (target.name) {
        const location = new parser_1.Parser().nameParser(target);
        target.name = strings.dasherize(location.name);
        target.path = core_1.join(strings.dasherize(location.path), target.name);
    }
    return target;
}
